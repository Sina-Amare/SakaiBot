# ============================================================================
# SAKAIBOT CONFIGURATION - IMAGE GENERATION FEATURE
# ============================================================================

# This file contains example configuration for the image generation feature.
# Copy this to your main .env file and update with your actual values.

# ============================================================================
# TELEGRAM CONFIGURATION (Required)
# ============================================================================

# Get these from https://my.telegram.org
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_PHONE_NUMBER=+1234567890
TELEGRAM_SESSION_NAME=sakaibot_session

# ============================================================================
# LLM PROVIDER CONFIGURATION (Required for Prompt Enhancement)
# ============================================================================

# Choose your LLM provider: "openrouter" or "gemini"
LLM_PROVIDER=openrouter

# ──────────────────────────────────────────────────────────────────────────
# OpenRouter Configuration (if LLM_PROVIDER=openrouter)
# ──────────────────────────────────────────────────────────────────────────

# Get your API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your_key_here

# Recommended models:
# - google/gemini-2.0-flash-exp:free (Fast, Free)
# - google/gemini-2.0-flash-exp (Fast, Paid)
# - anthropic/claude-3.5-sonnet (High Quality)
OPENROUTER_MODEL=google/gemini-2.0-flash-exp:free

# ──────────────────────────────────────────────────────────────────────────
# Google Gemini Configuration (if LLM_PROVIDER=gemini)
# ──────────────────────────────────────────────────────────────────────────

# Get your API key from https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIza_your_key_here

# Recommended models:
# - gemini-2.0-flash-exp (Fast, Efficient)
# - gemini-1.5-pro-latest (High Quality)
GEMINI_MODEL=gemini-2.0-flash-exp

# ============================================================================
# IMAGE GENERATION - CLOUDFLARE WORKERS (Optional but Recommended)
# ============================================================================

# ──────────────────────────────────────────────────────────────────────────
# Flux Worker (Fast Image Generation)
# ──────────────────────────────────────────────────────────────────────────

# Flux worker endpoint (GET request, no authentication required)
# Default public worker provided, or use your own
FLUX_WORKER_URL=https://image-smoke-ad69.fa-ra9931143.workers.dev

# Alternative: Deploy your own Flux worker
# FLUX_WORKER_URL=https://your-flux-worker.workers.dev

# ──────────────────────────────────────────────────────────────────────────
# SDXL Worker (High-Quality Image Generation)
# ──────────────────────────────────────────────────────────────────────────

# SDXL worker endpoint (POST request, requires Bearer token)
# Default public worker provided, or use your own
SDXL_WORKER_URL=https://image-api.cpt-n3m0.workers.dev

# SDXL API key (Bearer token for authentication)
# Contact worker administrator for API key
SDXL_API_KEY=your_sdxl_bearer_token_here

# Alternative: Deploy your own SDXL worker
# SDXL_WORKER_URL=https://your-sdxl-worker.workers.dev
# SDXL_API_KEY=your_own_api_key

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# ──────────────────────────────────────────────────────────────────────────
# Environment Settings
# ──────────────────────────────────────────────────────────────────────────

# Application environment: "development" or "production"
ENVIRONMENT=production

# Enable debug mode for detailed logging
DEBUG=false

# ──────────────────────────────────────────────────────────────────────────
# UserBot Settings
# ──────────────────────────────────────────────────────────────────────────

# Maximum number of messages to analyze in group analysis
USERBOT_MAX_ANALYZE_MESSAGES=10000

# ──────────────────────────────────────────────────────────────────────────
# Paths Configuration
# ──────────────────────────────────────────────────────────────────────────

# Path to FFmpeg executable (for audio/video processing)
# Leave empty for system FFmpeg
PATHS_FFMPEG_EXECUTABLE=

# Windows example:
# PATHS_FFMPEG_EXECUTABLE=C:\ffmpeg\bin\ffmpeg.exe

# Linux/Mac example:
# PATHS_FFMPEG_EXECUTABLE=/usr/bin/ffmpeg

# ============================================================================
# NOTES
# ============================================================================

# 1. Image generation requires at least ONE worker to be configured:
#    - Flux (fast, no auth) OR
#    - SDXL (high quality, requires auth) OR
#    - Both (recommended)

# 2. LLM provider is REQUIRED for prompt enhancement:
#    - Enhances simple prompts ("cat" → detailed description)
#    - Falls back to original if enhancement fails
#    - Significantly improves image quality

# 3. Worker URLs must use HTTPS (not HTTP)

# 4. API keys should be kept secret:
#    - Never commit .env to version control
#    - Add .env to .gitignore
#    - Rotate keys periodically

# 5. Default worker URLs are provided for convenience:
#    - Public endpoints, may have rate limits
#    - For production, deploy your own workers
#    - Contact administrators for API keys

# ============================================================================
# VERIFICATION
# ============================================================================

# After configuration, verify with:
# python scripts/verify_image_generation.py

# This will test:
# - Flux worker connectivity
# - SDXL worker connectivity and authentication
# - Prompt enhancement
# - End-to-end image generation

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# Issue: "Image generation not enabled"
# Solution: Configure at least one worker URL

# Issue: "SDXL authentication error"
# Solution: Check SDXL_API_KEY is correct and not placeholder

# Issue: "Prompt enhancement failed"
# Solution: Check LLM_PROVIDER and corresponding API key

# Issue: "Network error"
# Solution: Check worker URLs are accessible, firewall allows HTTPS

# For more help, see:
# docs/image-generation/troubleshooting/common-issues.md

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
